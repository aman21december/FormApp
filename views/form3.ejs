<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h3>Legacy data of civil work</h3>
    <h4>Status of earlier Approval details under various Civil work</h4>
<form id="tabularForm">
    <table border="1" cellpadding="5" cellspacing="0">
        <thead>
            <tr>
                <th rowspan="2">S. No.</th>
                <th colspan="1">Name of Schemes</th>
                <th rowspan="2">Scheme's approval Financial Year</th>
                <th rowspan="2">Total Approved Amount</th>
                <th rowspan="2">Financial Year amount released</th>
                <th rowspan="2">Total expenditure amount</th>
                <th rowspan="2">Year of Start of work</th>
                <th colspan="6">Status of Project</th>
            </tr>
            <tr>
                <th>Drop down-<br>State Development Grant / RUSA/ PM-USHA / UGC / Other Source</th>
                
                <th colspan="2">Completed</th>
                <th colspan="4">Not Completed</th>
            </tr>
            <tr>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th>Hand Over taken</th>
                <th>Inaugurated</th>
                <th colspan="3">Started</th>
                
                <th>Not Started</th>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td>Y/N</td>
                <td>Y/N</td>
                <th>Below 25% work</th>
                <th>Between 25%-50% of work</th>
                <th>Above 50% of work</th>
                <th></th>
            </tr>
        </thead>
        <tbody id="tbody">
            <tr>
                <td><input type="text" name="SNO"></td>
                <td><input type="text" name="NameOfSchemes"></td>
                <td><input type="text" name="SchemeApprovalFinancialyear"></td>
                <td><input type="text" name="TotalApprovedAmount"></td>
                <td><input type="text" name="FinancialYearAmountReleased"></td>
                <td><input type="text" name="TotalExpemditureAmount"></td>
                <td><input type="text" name="YearOfStartOfWork"></td>
                <td><Select name="HandOverTaken"><option value="Yes">yes</option><option value="No">no</option></Select></td>
                <td><Select name="Inaugurated"><option value="Yes">yes</option><option value="No">no</option></Select></td>
               <td><input type="text" name="Below25percentwork"></td>
                <td><input type="text" name="Between25to50percentwork"></td>
                <td><input type="text" name="Above50percentwork"></td>
                <td><input type="text" name="NotStarted"></td>
            </tr>
            <!-- Add more rows as needed -->
        </tbody>
    </table>
    <button type="button" onclick="AddRow()">Add Row</button>
    <button type="button" onclick="submitForm()">Submit</button>
</form>
       <script>
        function AddRow(){
            let tbody=document.getElementById("tbody")
            const row= tbody.insertRow()
            const cell1 = row.insertCell(0);
            const cell2 = row.insertCell(1);
            const cell3 = row.insertCell(2);
            const cell4 = row.insertCell(3);
            const cell5 = row.insertCell(4);
            const cell6 = row.insertCell(5);
            const cell7 = row.insertCell(6);
            const cell8 = row.insertCell(7);
            const cell9 = row.insertCell(8);
            const cell10 = row.insertCell(9);
            const cell11= row.insertCell(10);
            const cell12= row.insertCell(11);
            const cell13= row.insertCell(12);
            cell1.innerHTML = '<input type="text" name="SNO">';
            cell2.innerHTML = '<input type="text" name="NameOfSchemes">';
            cell3.innerHTML = '<input type="text" name="SchemeApprovalFinancialyear">';
            cell4.innerHTML = '<input type="text" name="TotalApprovedAmount">';
            cell5.innerHTML = '<input type="text" name="FinancialYearAmountReleased">';
            cell6.innerHTML = '<input type="text" name="TotalExpemditureAmount">';
            cell7.innerHTML = '<input type="text" name="YearOfStartOfWork">';
            cell8.innerHTML = '<Select name="HandOverTaken"><option value="Yes">yes</option><option value="No">no</option></Select>';
            cell9.innerHTML = '<Select name="Inaugurated"><option value="Yes">yes</option><option value="No">no</option></Select>';
            cell10.innerHTML = '<input type="text" name="Below25%work">';
            cell11.innerHTML = '<input type="text" name="Between25%to50%work">';
            cell12.innerHTML = '<input type="text" name="Above50%work">';
            cell13.innerHTML = '<input type="text" name="NotStarted">';
        }

        function submitForm() {
            const data = [];

        
            const rows = document.querySelectorAll("#tbody tr");
            
            rows.forEach((row) => {
                const inputs = row.querySelectorAll("input, select, textarea");
                const rowData = {};

                inputs.forEach(input => {
                    rowData[input.name] = input.value;
                });

            
                data.push(rowData);
            });
            console.log(data)
            fetch('/v1/form3', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(data => {
                console.log('Success:', data);
            })
            .catch((error) => {
                console.error('Error:', error);
            });
        }
    </script>        
</body>
</html>
